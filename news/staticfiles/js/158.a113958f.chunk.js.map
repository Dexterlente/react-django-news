{"version":3,"file":"static/js/158.a113958f.chunk.js","mappings":"6JAsBA,IAlBoB,SAACA,GAenB,OAdA,SAAgCC,GAC9B,IAAMC,GAAWC,EAAAA,EAAAA,MAUjB,OARAC,EAAAA,EAAAA,YAAU,WAEMC,EAAAA,EAAAA,IAAY,UAExBH,EAAS,SAEb,GAAG,CAACA,KAEG,SAACF,GAAgB,UAAKC,GAC/B,CAGF,C,0HCsFA,WAAeK,EAAAA,EAAAA,IApGK,WAClB,IAAMJ,GAAWC,EAAAA,EAAAA,MACTI,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAA0BE,EAAAA,EAAAA,UAAS,IAAG,eAA/BC,EAAK,KAAEC,EAAQ,KACtB,GAA8BF,EAAAA,EAAAA,UAAS,IAAG,eAAnCG,EAAO,KAAEC,EAAU,KAC1B,GAAgCJ,EAAAA,EAAAA,UAAS,IAAG,eAArCK,EAAQ,KAAEC,EAAW,KAC5B,GAAkCN,EAAAA,EAAAA,WAAS,GAAK,eAAzCO,EAAS,KAAEC,EAAY,MAE9Bb,EAAAA,EAAAA,YAAU,WACR,IAAMc,EAAS,yCAAG,6FACkB,OAA5BC,EAAQd,EAAAA,EAAAA,IAAY,SAAS,EAAD,OACXe,MAAM,sCAAD,OAAuCb,EAAE,KAAK,CACxEc,QAAS,CACP,cAAgB,SAAD,OAAWF,MAE3B,KAAD,EAJY,OAARG,EAAQ,gBAKKA,EAASC,OAAO,KAAD,EAA5BC,EAAI,OACVb,EAASa,EAAKd,OACdG,EAAWW,EAAKZ,SAChBG,EAAYS,EAAKC,OACjBR,GAAa,GAAO,4CACrB,kBAZc,mCAafC,GACF,GAAG,CAACX,IA+CJ,OAAIS,GACK,0BAAK,SAAC,IAAO,OAGpB,iBAAKU,UAAU,iBAAgB,WAC7B,eAAIA,UAAU,mBAAkB,SAAC,eACjC,kBAAMC,SAvCW,SAACC,GACpBA,EAAMC,iBAEN,IAAMC,EAAU,CACdpB,MAAOA,EACPE,QAASA,EACTa,MAAOX,GAGHiB,EAAY1B,EAAAA,EAAAA,IAAY,aACxBc,EAAQd,EAAAA,EAAAA,IAAY,SACpB2B,EAAiB,CACrBC,OAAQ,MACRZ,QAAS,CACP,eAAgB,mBAChB,cAAgB,SAAD,OAAWF,GAC1B,cAAeY,GAEjBG,KAAMC,KAAKC,UAAUN,IAGvBV,MAAM,sCAAD,OAAuCb,EAAE,KAAKyB,GAChDK,MAAK,SAACf,GAAQ,OAAKA,EAASC,MAAM,IAClCc,MAAK,SAACb,GACLc,QAAQC,IAAI,gBAAiBf,GAC7Bb,EAAS,IACTE,EAAW,IACXE,EAAY,IACZb,EAAS,IACX,IACCsC,OAAM,SAACC,GAAK,OAAKH,QAAQG,MAAMA,EAAM,GAC1C,EAQiC,WAC3B,6BAAO,UAEL,kBAAOC,KAAK,OAAOC,MAAOjC,EAAOkC,SAtDf,SAAChB,GACzBjB,EAASiB,EAAMiB,OAAOF,MACxB,EAoDsEjB,UAAU,qEAAqEoB,UAAQ,QAEvJ,mBACA,8BACE,yBAAK,cAGL,qBAAUH,MAAO/B,EAASgC,SAzDN,SAAChB,GAC3Bf,EAAWe,EAAMiB,OAAOF,MAC1B,EAuDiEjB,UAAU,+EAA8EoB,UAAQ,QAE3J,mBACA,6BAAO,cAEL,kBAAOJ,KAAK,MAAMC,MAAO7B,EAAU8B,SA1Dd,SAAChB,GAC5Bb,EAAYa,EAAMiB,OAAOF,MAC3B,EAwD2EjB,UAAU,2EAA0EoB,UAAQ,QAEjK,mBACA,mBAAQJ,KAAK,SAAShB,UAAU,sJAAqJ,SAAC,iCAI9L,G,qECvGe,SAASqB,EAAgBC,EAAKC,EAAKN,GAYhD,OAXAM,GAAM,OAAcA,MACTD,EACTE,OAAOC,eAAeH,EAAKC,EAAK,CAC9BN,MAAOA,EACPS,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIC,GAAON,EAENK,CACT,C,qECbA,SAASO,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GACvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GAC3CC,IAAmBG,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,UACtD,KAAKM,EAAKM,KAAKC,MAAMP,EAAME,EAC7B,CACA,OAAOF,CACT,CACe,SAASQ,EAAerB,GACrC,IAAK,IAAIsB,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAS,MAAQF,UAAUD,GAAKC,UAAUD,GAAK,CAAC,EACpDA,EAAI,EAAIZ,EAAQL,OAAOoB,IAAS,GAAIC,SAAQ,SAAUtB,IACpD,OAAeJ,EAAQI,EAAKqB,EAAOrB,GACrC,IAAKC,OAAOsB,0BAA4BtB,OAAOuB,iBAAiB5B,EAAQK,OAAOsB,0BAA0BF,IAAWf,EAAQL,OAAOoB,IAASC,SAAQ,SAAUtB,GAC5JC,OAAOC,eAAeN,EAAQI,EAAKC,OAAOa,yBAAyBO,EAAQrB,GAC7E,GACF,CACA,OAAOJ,CACT,C","sources":["Contexts/requireAuth.jsx","Pages/EditArticle.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\n\nconst requireAuth = (WrappedComponent) => {\n  function AuthenticatedComponent(props) {\n    const navigate = useNavigate();\n\n    useEffect(() => {\n      // const sessionID = Cookies.get(\"sessionid\");\n      const token = Cookies.get('token');\n      if (!token) {\n        navigate(\"/login\");\n      }\n    }, [navigate]);\n\n    return <WrappedComponent {...props} />;\n  }\n\n  return AuthenticatedComponent;\n}\n\nexport default requireAuth;\n","import requireAuth from '../Contexts/requireAuth'\nimport React, { useState, useEffect } from \"react\";\nimport Cookies from \"js-cookie\";\nimport { useNavigate, useParams } from 'react-router-dom'\nimport Loading from '../Components/Loading'\n\nconst EditArticle = () => {\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const token = Cookies.get('token');\n      const response = await fetch(`http://127.0.0.1:8000/api/articles/${id}/`, {\n        headers: {\n          'Authorization': `Token ${token}`\n        }\n      });\n      const data = await response.json();\n      setTitle(data.title);\n      setContent(data.content);\n      setImageUrl(data.image);\n      setIsLoading(false);\n    }\n    fetchData();\n  }, [id]);\n\n  const handleTitleChange = (event) => {\n    setTitle(event.target.value);\n  };\n\n  const handleContentChange = (event) => {\n    setContent(event.target.value);\n  };\n\n  const handleImageUrlChange = (event) => {\n    setImageUrl(event.target.value);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const putData = {\n      title: title,\n      content: content,\n      image: imageUrl\n    };\n\n    const csrftoken = Cookies.get(\"csrftoken\");\n    const token = Cookies.get('token');\n    const requestOptions = {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `Token ${token}`,\n        \"X-CSRFToken\": csrftoken,\n      },\n      body: JSON.stringify(putData),\n    };\n\n    fetch(`http://127.0.0.1:8000/api/articles/${id}/`, requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"Post updated:\", data);\n        setTitle(\"\");\n        setContent(\"\");\n        setImageUrl(\"\");\n        navigate(\"/\");\n      })\n      .catch((error) => console.error(error));\n  };\n\n  if (isLoading) {\n    return <div><Loading /></div>;\n  }\n  return (\n    <div className='mx-3 font-bold'>\n      <h2 className='text-[32px] my-8'>Edit Post</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Title:\n          <input type=\"text\" value={title} onChange={handleTitleChange} className='w-11/12 mx-3 mb-4 border-2 border-gray-600 border-solid rounded-md' required  />\n        </label>\n        <br />\n        <label>\n          <div>\n          Content:\n          </div>\n          <textarea value={content} onChange={handleContentChange} className='w-11/12 h-[300px] mx-3 border-2 my-1 border-solid border-gray-600 rounded-md'required  />\n        </label>\n        <br />\n        <label>\n          Image URL:\n          <input type=\"url\" value={imageUrl} onChange={handleImageUrlChange} className='w-11/12 mx-3 mb-4 border-2 border-gray-600  border-solid rounded-md mt-3'required  />\n        </label>\n        <br />\n        <button type=\"submit\" className=\"inline-block px-6 mr-18 py-2 border-2 border-yellow-500 text-yellow-500 font-medium text-xs leading-tight uppercase rounded-sm hover:bg-yellow mb-3\"> Submit Edited Article </button>\n        </form>\n    </div>\n  );\n};\n\nexport default requireAuth(EditArticle);\n","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}"],"names":["WrappedComponent","props","navigate","useNavigate","useEffect","Cookies","requireAuth","id","useParams","useState","title","setTitle","content","setContent","imageUrl","setImageUrl","isLoading","setIsLoading","fetchData","token","fetch","headers","response","json","data","image","className","onSubmit","event","preventDefault","putData","csrftoken","requestOptions","method","body","JSON","stringify","then","console","log","catch","error","type","value","onChange","target","required","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}