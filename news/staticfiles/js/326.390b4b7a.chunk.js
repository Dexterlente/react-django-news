"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[326],{688:function(e,t,n){var r=n(1413),o=n(2791),a=n(7689),c=n(8329),i=n(184);t.Z=function(e){return function(t){var n=(0,a.s0)();return(0,o.useEffect)((function(){c.Z.get("token")||n("/login")}),[n]),(0,i.jsx)(e,(0,r.Z)({},t))}}},3326:function(e,t,n){n.r(t);var r=n(9439),o=n(688),a=n(2791),c=n(8329),i=n(7689),s=n(184);t.default=(0,o.Z)((function(){var e=(0,i.s0)(),t=(0,a.useState)(""),n=(0,r.Z)(t,2),o=n[0],u=n[1],l=(0,a.useState)(""),d=(0,r.Z)(l,2),f=d[0],b=d[1],p=(0,a.useState)(""),g=(0,r.Z)(p,2),h=g[0],m=g[1],j=(0,a.useState)(!1),x=(0,r.Z)(j,2)[1];return(0,s.jsxs)("div",{className:"mx-3 font-bold",children:[(0,s.jsx)("h2",{className:"text-[32px] my-8",children:"Create a new post"}),(0,s.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),o&&f&&h){var n={title:o,content:f,image:h};console.log(c.Z.get("csrftoken"));var r=c.Z.get("csrftoken"),a=c.Z.get("token"),i={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(a),"X-CSRFToken":r},body:JSON.stringify(n)};fetch("http://127.0.0.1:8000/api/articles/",i).then((function(e){return e.json()})).then((function(t){console.log(i),console.log("New article created:",t),u(""),b(""),m(""),x(!1),e("/")})).catch((function(e){console.error(e),x(!0)}))}else x(!0)},children:[(0,s.jsxs)("label",{children:["Title:",(0,s.jsx)("input",{type:"text",value:o,onChange:function(e){u(e.target.value)},className:"w-11/12 mx-3 mb-4 border-2 border-gray-600 border-solid rounded-md"})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("label",{children:[(0,s.jsx)("div",{children:"Content:"}),(0,s.jsx)("textarea",{value:f,onChange:function(e){b(e.target.value)},className:"w-11/12 h-[300px] mx-3 border-2 my-1 border-solid border-gray-600 rounded-md"})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("label",{children:["Image URL:",(0,s.jsx)("input",{type:"url",value:h,onChange:function(e){m(e.target.value)},className:"w-11/12 mx-3 mb-4 border-2 border-gray-600  border-solid rounded-md mt-3"})]}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{type:"submit",className:"inline-block px-6 mr-18 py-2 border-2 border-yellow-500 text-yellow-500 font-medium text-xs leading-tight uppercase rounded-full hover:bg-yellow-500 hover:text-white focus:outline-none focus:ring-0 transition duration-150 ease-in-out mb-3",children:"Create Post"})]})]})}))},4942:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(9142);function o(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1413:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(4942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=326.390b4b7a.chunk.js.map