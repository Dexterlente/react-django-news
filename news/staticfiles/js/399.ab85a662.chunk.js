"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[399],{688:function(e,t,n){var r=n(1413),o=n(2791),s=n(7689),a=n(8329),c=n(184);t.Z=function(e){return function(t){var n=(0,s.s0)();return(0,o.useEffect)((function(){a.Z.get("token")||n("/login")}),[n]),(0,c.jsx)(e,(0,r.Z)({},t))}}},3399:function(e,t,n){n.r(t);var r=n(9439),o=n(688),s=n(2791),a=n(8329),c=n(7689),i=n(184);t.default=(0,o.Z)((function(){var e=(0,c.s0)(),t=(0,s.useState)(""),n=(0,r.Z)(t,2),o=n[0],u=n[1],l=(0,s.useState)(""),d=(0,r.Z)(l,2),f=d[0],b=d[1],p=(0,s.useState)(""),g=(0,r.Z)(p,2),h=g[0],m=g[1],j=(0,s.useState)(!1),x=(0,r.Z)(j,2)[1];return(0,i.jsxs)("div",{className:"mx-3 font-bold",children:[(0,i.jsx)("h2",{className:"text-[32px] my-8",children:"Create a new post"}),(0,i.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),o&&f&&h){var n={title_post:o,content_post:f,image_post:h};console.log(a.Z.get("csrftoken"));var r=a.Z.get("csrftoken"),s=a.Z.get("token"),c={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(s),"X-CSRFToken":r},body:JSON.stringify(n)};fetch("http://127.0.0.1:8000/api/posts/",c).then((function(e){return e.json()})).then((function(t){console.log(c),console.log("New post created:",t),u(""),b(""),m(""),x(!1),e("/")})).catch((function(e){console.error(e),x(!0)}))}else x(!0)},children:[(0,i.jsxs)("label",{children:["Title:",(0,i.jsx)("input",{type:"text",value:o,onChange:function(e){u(e.target.value)},className:"w-11/12 mx-3 mb-4 border-2 border-gray-600 border-solid rounded-md"})]}),(0,i.jsx)("br",{}),(0,i.jsxs)("label",{children:[(0,i.jsx)("div",{children:"Content:"}),(0,i.jsx)("textarea",{value:f,onChange:function(e){b(e.target.value)},className:"w-11/12 h-[300px] mx-3 border-2 my-1 border-solid border-gray-600 rounded-md"})]}),(0,i.jsx)("br",{}),(0,i.jsxs)("label",{children:["Image URL:",(0,i.jsx)("input",{type:"url",value:h,onChange:function(e){m(e.target.value)},className:"w-11/12 mx-3 mb-4 border-2 border-gray-600  border-solid rounded-md mt-3"})]}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{type:"submit",className:"inline-block px-6 mr-18 py-2 border-2 border-yellow-500 text-yellow-500 font-medium text-xs leading-tight uppercase rounded-full hover:bg-yellow-500 hover:text-white focus:outline-none focus:ring-0 transition duration-150 ease-in-out mb-3",children:"Create Post"})]})]})}))},4942:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(9142);function o(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1413:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(4942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=399.ab85a662.chunk.js.map