"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[150],{2150:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var r=n(9439),a=n(2791),s=n(7689),o=n(1087),c=n(4165),i=n(5861),h=n(8329),u=n(184);var d=function(t){var e=t.id,n=t.archived_post,s=t.onArchiveChange,o=(0,a.useState)(!1),d=(0,r.Z)(o,2),m=d[0],p=d[1];(0,a.useEffect)((function(){var t=h.Z.get("token");p(!!t)}),[]);var l=function(){var t=(0,i.Z)((0,c.Z)().mark((function t(){var r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h.Z.get("token")){t.next=4;break}return alert("You must be logged in to perform this action."),t.abrupt("return");case 4:return t.next=6,fetch("http://127.0.0.1:8000/api/posts/".concat(e,"/"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(r)},body:JSON.stringify({archived_post:!n})});case 6:t.sent.ok?s(e,!n):alert("There was an error archiving/unarchiving the item.");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,u.jsx)(u.Fragment,{children:m&&(0,u.jsx)("button",{onClick:l,className:"py-2 mb-10 px-4 font-semibold rounded-lg shadow-md text-white hover:opacity-70 ".concat(n?"bg-[red]":"bg-[green]"),children:n?"Unarchive":"Archive"})})},m=n(8163),p=function(){var t=(0,s.UO)().id,e=(0,a.useState)({}),n=(0,r.Z)(e,2),c=n[0],i=n[1],p=(0,a.useState)(!0),l=(0,r.Z)(p,2),f=l[0],x=l[1],v=(0,a.useState)(!1),g=(0,r.Z)(v,2),b=g[0],_=g[1],j=(0,a.useState)(""),k=(0,r.Z)(j,2),Z=k[0],w=k[1];(0,a.useEffect)((function(){!function(t){fetch("http://127.0.0.1:8000/api/posts/".concat(t)).then((function(t){return t.json()})).then((function(t){i(t),_(t.archived_post),x(!1)}))}(t),w(h.Z.get("token"))}),[t]);return(0,u.jsx)("div",{children:f?(0,u.jsx)(m.Z,{}):(0,u.jsxs)("div",{className:"text-center md:mx-32",children:[(0,u.jsx)("h1",{className:"font-bold text-[40px] mx-4 mb-4 mt-8",children:c.title_post}),(0,u.jsxs)("p",{className:"mt-4 text-sm text-start md:mx-24 mx-8",children:["By: ",c.author_post.first_name.charAt(0).toUpperCase()+c.author_post.first_name.slice(1).toLowerCase()," ",c.author_post.last_name.charAt(0).toUpperCase()+c.author_post.last_name.slice(1).toLowerCase()]}),(0,u.jsx)("p",{className:"mt-4 text-sm text-start md:mx-24 mx-8",children:new Date(c.time_created_post).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),(0,u.jsx)("p",{className:"text-[16px] md:m-24 m-8",children:c.content_post}),Z&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d,{id:t,archived_post:b,onArchiveChange:function(t,e){_(e)}}),(0,u.jsx)(o.rU,{to:"/edit-post/".concat(t),className:"py-2 mb-10 px-4 font-semibold rounded-lg shadow-md text-black hover:opacity-70",children:"Edit Post"})]})]})})}}}]);
//# sourceMappingURL=150.536de739.chunk.js.map