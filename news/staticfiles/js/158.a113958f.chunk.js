"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[158],{688:function(e,t,n){var r=n(1413),o=n(2791),c=n(7689),i=n(8329),a=n(184);t.Z=function(e){return function(t){var n=(0,c.s0)();return(0,o.useEffect)((function(){i.Z.get("token")||n("/login")}),[n]),(0,a.jsx)(e,(0,r.Z)({},t))}}},9158:function(e,t,n){n.r(t);var r=n(4165),o=n(5861),c=n(9439),i=n(688),a=n(2791),s=n(8329),u=n(7689),l=n(8163),d=n(184);t.default=(0,i.Z)((function(){var e=(0,u.s0)(),t=(0,u.UO)().id,n=(0,a.useState)(""),i=(0,c.Z)(n,2),f=i[0],b=i[1],p=(0,a.useState)(""),h=(0,c.Z)(p,2),m=h[0],x=h[1],j=(0,a.useState)(""),g=(0,c.Z)(j,2),y=g[0],v=g[1],O=(0,a.useState)(!0),Z=(0,c.Z)(O,2),w=Z[0],k=Z[1];(0,a.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n,o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.Z.get("token"),e.next=3,fetch("http://127.0.0.1:8000/api/articles/".concat(t,"/"),{headers:{Authorization:"Token ".concat(n)}});case 3:return o=e.sent,e.next=6,o.json();case 6:c=e.sent,b(c.title),x(c.content),v(c.image),k(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);return w?(0,d.jsx)("div",{children:(0,d.jsx)(l.Z,{})}):(0,d.jsxs)("div",{className:"mx-3 font-bold",children:[(0,d.jsx)("h2",{className:"text-[32px] my-8",children:"Edit Post"}),(0,d.jsxs)("form",{onSubmit:function(n){n.preventDefault();var r={title:f,content:m,image:y},o=s.Z.get("csrftoken"),c=s.Z.get("token"),i={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(c),"X-CSRFToken":o},body:JSON.stringify(r)};fetch("http://127.0.0.1:8000/api/articles/".concat(t,"/"),i).then((function(e){return e.json()})).then((function(t){console.log("Post updated:",t),b(""),x(""),v(""),e("/")})).catch((function(e){return console.error(e)}))},children:[(0,d.jsxs)("label",{children:["Title:",(0,d.jsx)("input",{type:"text",value:f,onChange:function(e){b(e.target.value)},className:"w-11/12 mx-3 mb-4 border-2 border-gray-600 border-solid rounded-md",required:!0})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("label",{children:[(0,d.jsx)("div",{children:"Content:"}),(0,d.jsx)("textarea",{value:m,onChange:function(e){x(e.target.value)},className:"w-11/12 h-[300px] mx-3 border-2 my-1 border-solid border-gray-600 rounded-md",required:!0})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("label",{children:["Image URL:",(0,d.jsx)("input",{type:"url",value:y,onChange:function(e){v(e.target.value)},className:"w-11/12 mx-3 mb-4 border-2 border-gray-600  border-solid rounded-md mt-3",required:!0})]}),(0,d.jsx)("br",{}),(0,d.jsx)("button",{type:"submit",className:"inline-block px-6 mr-18 py-2 border-2 border-yellow-500 text-yellow-500 font-medium text-xs leading-tight uppercase rounded-sm hover:bg-yellow mb-3",children:" Submit Edited Article "})]})]})}))},4942:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(9142);function o(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1413:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(4942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=158.a113958f.chunk.js.map