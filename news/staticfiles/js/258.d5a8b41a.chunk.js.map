{"version":3,"file":"static/js/258.d5a8b41a.chunk.js","mappings":"yOAwDA,MArDA,SAA8B,GAAoC,IAAlCA,EAAE,EAAFA,GAAIC,EAAQ,EAARA,SAAUC,EAAe,EAAfA,gBAC5C,GAAoCC,EAAAA,EAAAA,WAAS,GAAM,eAA5CC,EAAU,KAAEC,EAAa,MAGhCC,EAAAA,EAAAA,YAAU,WAER,IAAMC,EAAQC,EAAAA,EAAAA,IAAY,SAE1BH,IAAgBE,EAClB,GAAG,IAGH,IAAME,EAAkB,yCAAG,yFAIU,GAF7BF,EAAQC,EAAAA,EAAAA,IAAY,SAE1BE,QAAQC,IAAI,eAAgBJ,GACvBA,EAAM,CAAD,gEAKaK,MAAM,sCAAD,OAAuCZ,EAAE,KAAK,CACxEa,OAAQ,QACRC,QAAS,CACP,eAAgB,mBAChBC,cAAc,SAAD,OAAWR,IAE1BS,KAAMC,KAAKC,UAAU,CAAEjB,UAAWA,MACjC,KAAD,EAPY,OASDkB,GACXjB,EAAgBF,GAAKC,GAErBmB,MAAM,sDACP,2CACF,kBAxBuB,mCA0BxB,OACE,8BACChB,IACD,mBAAQiB,QAASZ,EACjBa,UAAS,yFACPrB,EAAW,WAAa,cACvB,SAEAA,EAAW,YAAc,aAKhC,E,UCgBA,EAhEuB,WACnB,IAAQD,GAAOuB,EAAAA,EAAAA,MAAPvB,GACR,GAA4CG,EAAAA,EAAAA,UAAS,CAAC,GAAE,eAAjDqB,EAAc,KAAEC,EAAiB,KACxC,GAA8BtB,EAAAA,EAAAA,WAAS,GAAK,eAArCuB,EAAO,KAAEC,EAAU,KAC1B,GAAgCxB,EAAAA,EAAAA,WAAS,GAAM,eAAxCF,EAAQ,KAAE2B,EAAW,KAC5B,GAAkCzB,EAAAA,EAAAA,UAAS,IAAG,eAAvC0B,EAAS,KAAEC,EAAY,MAY9BxB,EAAAA,EAAAA,YAAU,YAVkB,SAACN,GAC3BY,MAAM,sCAAD,OAAuCZ,IACzC+B,MAAK,SAACC,GAAG,OAAKA,EAAIC,MAAM,IACxBF,MAAK,SAACG,GACHT,EAAkBS,GAClBN,EAAYM,EAAKjC,UACjB0B,GAAW,EACf,GACJ,CAGIQ,CAAoBnC,GACpB8B,EAAatB,EAAAA,EAAAA,IAAY,SAC7B,GAAG,CAACR,IAQJ,OACE,yBACG0B,GACC,SAACU,EAAA,EAAO,KAER,iBAAKd,UAAU,uBAAsB,WACnC,eAAIA,UAAU,uCAAsC,SAAEE,EAAea,SACrE,eAAGf,UAAU,wCAAuC,UAAC,OAC9CE,EAAec,OAAOC,WAAWC,OAAO,GAAGC,cAAgBjB,EAAec,OAAOC,WAAWG,MAAM,GAAGC,cAAe,IAAEnB,EAAec,OAAOM,UAAUJ,OAAO,GAAGC,cAAejB,EAAec,OAAOM,UAAUF,MAAM,GAAGC,kBAEjO,cAAGrB,UAAU,wCAAuC,SACnD,IAAIuB,KAAKrB,EAAesB,cAAcC,mBAAmB,QAAS,CAC3DC,KAAM,UACNC,MAAO,OACPC,IAAK,eAGX,cAAG5B,UAAU,0BAAyB,SAAEE,EAAe2B,UACtDtB,IACC,iCACF,SAAC,EAAoB,CACnB7B,GAAIA,EACJC,SAAUA,EACVC,gBA7BkB,SAACF,EAAIC,GAC/B2B,EAAY3B,EACd,KA6BQ,SAAC,KAAI,CAACmD,GAAE,wBAAmBpD,GAAMsB,UAAU,iFAAgF,SAAC,wBASxI,C","sources":["Components/ArchiveButtonArticle.jsx","Pages/ArticleContent.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Cookies from 'js-cookie';\n\nfunction ArchiveButtonArticle({ id, archived, onArchiveChange }) {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  // Check if user is logged in on component mount\n  useEffect(() => {\n    //const sessionId = Cookies.get('sessionid');\n    const token = Cookies.get('token');\n    //const sessionToken = sessionStorage.getItem(\"token\");\n    setIsLoggedIn(!!token);\n  }, []);\n\n  // Handle click on archive/unarchive button\n  const handleArchiveClick = async () => {\n    //const sessionId = Cookies.get('sessionid');\n    const token = Cookies.get('token');\n    //const sessionToken = sessionStorage.getItem(\"token\");\n    console.log(\"Token value:\", token);\n    if (!token) {\n      //alert(\"You must be logged in to perform this action.\");\n      return;\n    }\n\n    const response = await fetch(`http://127.0.0.1:8000/api/articles/${id}/`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token}`,\n      },\n      body: JSON.stringify({ archived: !archived }),\n    });\n\n    if (response.ok) {\n      onArchiveChange(id, !archived);\n    } else {\n      alert(\"There was an error archiving/unarchiving the item.\");\n    }\n  };\n\n  return (\n    <>\n    {isLoggedIn && \n    <button onClick={handleArchiveClick}\n    className={`py-2 mb-10 px-4 font-semibold rounded-lg shadow-md text-white hover:opacity-70 ${\n      archived ? \"bg-[red]\" : \"bg-[green]\"\n    }`}\n    >\n      {archived ? \"Unarchive\" : \"Archive\"}\n    </button>\n    }\n    </>\n  );\n}\n\nexport default ArchiveButtonArticle;\n","import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport ArchiveButtonArticle from '../Components/ArchiveButtonArticle'\nimport Cookies from 'js-cookie';\nimport Loading from '../Components/Loading'\n\nconst ArticleContent = () => {\n    const { id } = useParams();\n    const [ArticleContent, setArticleContent] = useState({});\n    const [loading, setLoading] = useState(true);\n    const [archived, setArchived] = useState(false);\n    const [sessionID, setSessionID] = useState('');\n  \n    const fetchArticleContent = (id) => {\n      fetch(`http://127.0.0.1:8000/api/articles/${id}`)\n        .then((res) => res.json())\n        .then((data) => {\n            setArticleContent(data);\n            setArchived(data.archived);\n            setLoading(false);\n        });\n    };\n  \n    useEffect(() => {\n        fetchArticleContent(id);\n        setSessionID(Cookies.get('token'));\n    }, [id]);\n  \n    const handleArchiveChange = (id, archived) => {\n      setArchived(archived);\n    }\n\n\n\n    return (\n      <div>\n        {loading ? (\n          <Loading />\n        ) : (\n          <div className='text-center md:mx-32'>\n            <h1 className='font-bold text-[40px] mx-4 mb-4 mt-8'>{ArticleContent.title}</h1>\n            <p className='mt-4 text-sm text-start md:mx-24 mx-8'>\n              By: {ArticleContent.author.first_name.charAt(0).toUpperCase() + ArticleContent.author.first_name.slice(1).toLowerCase() } {ArticleContent.author.last_name.charAt(0).toUpperCase()+ ArticleContent.author.last_name.slice(1).toLowerCase()}\n          </p>\n          <p className='mt-4 text-sm text-start md:mx-24 mx-8'>\n          {new Date(ArticleContent.time_created).toLocaleDateString(\"en-US\", {\n                  year: \"numeric\",\n                  month: \"long\",\n                  day: \"numeric\",\n                })}\n          </p>\n            <p className='text-[16px] md:m-24 m-8'>{ArticleContent.content}</p>\n            {sessionID && (\n              <>\n            <ArchiveButtonArticle\n              id={id}\n              archived={archived}\n              onArchiveChange={handleArchiveChange}\n            />\n            <Link to={`/edit-article/${id}`} className=\"py-2 mb-10 px-4 font-semibold rounded-lg shadow-md text-black hover:opacity-70\">\n            Edit Article\n          </Link>  \n            </> \n            )}\n          </div>\n        )}\n      </div>\n    ); \n}\n\nexport default ArticleContent"],"names":["id","archived","onArchiveChange","useState","isLoggedIn","setIsLoggedIn","useEffect","token","Cookies","handleArchiveClick","console","log","fetch","method","headers","Authorization","body","JSON","stringify","ok","alert","onClick","className","useParams","ArticleContent","setArticleContent","loading","setLoading","setArchived","sessionID","setSessionID","then","res","json","data","fetchArticleContent","Loading","title","author","first_name","charAt","toUpperCase","slice","toLowerCase","last_name","Date","time_created","toLocaleDateString","year","month","day","content","to"],"sourceRoot":""}