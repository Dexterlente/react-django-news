"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[610],{7652:function(e,t,n){var r=n(1413),o=n(7313),c=n(8467),s=n(8507),a=n(6417);t.Z=function(e){return function(t){var n=(0,c.s0)();return(0,o.useEffect)((function(){s.Z.get("token")||n("/login")}),[n]),(0,a.jsx)(e,(0,r.Z)({},t))}}},2610:function(e,t,n){n.r(t);var r=n(4165),o=n(5861),c=n(9439),s=n(7652),a=n(7313),i=n(8507),u=n(8467),l=n(5105),d=n(6287),f=n(6417);t.default=(0,s.Z)((function(){var e=(0,u.s0)(),t=(0,u.UO)().id,n=(0,a.useState)(""),s=(0,c.Z)(n,2),p=s[0],b=s[1],m=(0,a.useState)(""),h=(0,c.Z)(m,2),x=h[0],j=h[1],g=(0,a.useState)(""),y=(0,c.Z)(g,2),v=y[0],Z=y[1],O=(0,a.useState)(!0),w=(0,c.Z)(O,2),k=w[0],P=w[1];(0,a.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n,o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.Z.get("token"),e.next=3,fetch("".concat(d.Z,"/api/posts/").concat(t,"/"),{headers:{Authorization:"Token ".concat(n)}});case 3:return o=e.sent,e.next=6,o.json();case 6:c=e.sent,b(c.title_post),j(c.content_post),Z(c.image_post),P(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);return k?(0,f.jsx)("div",{children:(0,f.jsx)(l.Z,{})}):(0,f.jsxs)("div",{className:"mx-3 font-bold",children:[(0,f.jsx)("h2",{className:"text-[32px] my-8",children:"Edit Post"}),(0,f.jsxs)("form",{onSubmit:function(n){n.preventDefault();var r={title_post:p,content_post:x,image_post:v},o=i.Z.get("csrftoken"),c=i.Z.get("token"),s={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(c),"X-CSRFToken":o},body:JSON.stringify(r)};fetch("".concat(d.Z,"/api/posts/").concat(t,"/"),s).then((function(e){return e.json()})).then((function(t){console.log("Post updated:",t),b(""),j(""),Z(""),e("/")})).catch((function(e){return console.error(e)}))},children:[(0,f.jsxs)("label",{children:["Title:",(0,f.jsx)("input",{type:"text",value:p,onChange:function(e){b(e.target.value)},className:"w-11/12 mx-3 mb-4 border-2 border-gray-600 border-solid rounded-md",required:!0})]}),(0,f.jsx)("br",{}),(0,f.jsxs)("label",{children:[(0,f.jsx)("div",{children:"Content:"}),(0,f.jsx)("textarea",{value:x,onChange:function(e){j(e.target.value)},className:"w-11/12 h-[300px] mx-3 border-2 my-1 border-solid border-gray-600 rounded-md",required:!0})]}),(0,f.jsx)("br",{}),(0,f.jsxs)("label",{children:["Image URL:",(0,f.jsx)("input",{type:"url",value:v,onChange:function(e){Z(e.target.value)},className:"w-11/12 mx-3 mb-4 border-2 border-gray-600  border-solid rounded-md mt-3",required:!0})]}),(0,f.jsx)("br",{}),(0,f.jsx)("button",{type:"submit",className:"inline-block px-6 mr-18 py-2 border-2 border-yellow-500 text-yellow-500 font-medium text-xs leading-tight uppercase rounded-sm hover:bg-yellow mb-3",children:" Submit Edited Post "})]})]})}))},4942:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(9142);function o(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1413:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(4942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);